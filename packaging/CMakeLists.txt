set(CPACK_PACKAGE_NAME ${APP_NAME})
set(CPACK_PACKAGE_DESCRIPTION_SUMMARY "A prompt based image generation tool")
set(PACKAGE_MAINTAINER "Meekness Adesina")
set(PACKAGE_MAINTAINER_CONTACT "zenon8adams@gmail.com")
set(CPACK_PACKAGE_VENDOR "zenon8adams")
set(CPACK_PACKAGE_INSTALL_DIRECTORY ${CPACK_PACKAGE_NAME})
set(CPACK_VERBATIM_VARIABLES YES)
set(CPACK_PACKAGE_DESCRIPTION [[

    This is a command line tool for generating images.
    It is useful for quick prototyping and logo design.
    Â© Meekness Adesina 2022.
]])
string(TOLOWER ${OPERATING_SYSTEM} SYSTEM_NAME)
set(CPACK_SYSTEM_NAME ${SYSTEM_NAME})
set(CPACK_PACKAGE_FILE_NAME ${APP_NAME}-${PROJECT_VERSION}-${CMAKE_SYSTEM_PROCESSOR}-${CPACK_SYSTEM_NAME})
set(CPACK_SOURCE_TOPLEVEL_TAG ${SYSTEM_NAME}-source)
set(CPACK_SOURCE_PACKAGE_FILE_NAME ${APP_NAME}-${PROJECT_VERSION}-${CPACK_SOURCE_TOPLEVEL_TAG})
set(CPACK_RESOURCE_FILE_WELCOME ${CMAKE_CURRENT_LIST_DIR}/welcome.txt)
set(CPACK_RESOURCE_FILE_LICENSE ${CMAKE_SOURCE_DIR}/LICENSE)
set(CPACK_RESOURCE_FILE_README ${CMAKE_SOURCE_DIR}/README.md)
set(CPACK_IGNORE_FILES /CVS/;/\\.svn/;/\\.bzr/;/\\.hg/;/\\.git/;/\\.git.*/;/\\.idea/
                       /\\.swp/;${CMAKE_CURRENT_BINARY_DIR}/;${CMAKE_SOURCE_DIR}/.*build.*/)
set(CPACK_SOURCE_IGNORE_FILES ${CPACK_IGNORE_FILES})
set(CPACK_DEBIAN_PACKAGE_DEPENDS libfreetype libfontconfig libjpeg libpng++ libzip)
set(CPACK_DEBIAN_PACKAGE_MAINTAINER ${PACKAGE_MAINTAINER})
set(CPACK_PACKAGE_CONTACT ${PACKAGE_MAINTAINER_CONTACT})
if(WIN32)
    set(CPACK_GENERATOR ZIP WIX)
elseif(CMAKE_SYSTEM_NAME STREQUAL "Linux")
    set(CPACK_GENERATOR TGZ DEB RPM)
else()
    set(CPACK_GENERATOR TGZ)
endif()

set(CPACK_PRE_BUILD_SCRIPTS ${CMAKE_BINARY_DIR}/patch.cmake)
include(CMakePrintHelpers)
cmake_print_properties(TARGETS patch PROPERTIES COMPILE_DEFINITIONS)
include(CPack)